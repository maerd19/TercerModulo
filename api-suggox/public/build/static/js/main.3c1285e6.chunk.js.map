{"version":3,"sources":["config.js","auth/index.jsx","core/Menu.jsx","core/Layout.jsx","user/Signup.jsx","user/Signin.jsx","core/Home.jsx","auth/PrivateRoute.jsx","user/UserDashboard.jsx","auth/AdminRoute.jsx","user/AdminDashboard.jsx","admin/CreateSurvey.jsx","admin/apiAdmin.js","core/apiCore.js","core/showImage.jsx","core/Card.jsx","user/SurveyList.jsx","user/SurveyAnswer.jsx","user/apiUser.js","Routes.js","index.js"],"names":["API","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","style","to","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","Home","PrivateRoute","Component","component","rest","render","props","state","from","Dashboard","_id","AdminRoute","AdminDashboard","AddSurvey","photo","createdSurvey","formData","token","useEffect","FormData","files","set","userId","product","Authorization","createSurvey","onSubmit","accept","getSurveys","sortBy","ShowImage","item","url","src","alt","maxHeight","maxWidth","Card","survey","SurveyList","surveys","setSurveys","setError","map","i","key","SurveyAnswer","survey_id","match","params","id","setSurvey","simple_answer","long_answer","createdAnswer","surveyValues","surveyId","createAnswer","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3c1285e6.chunk.js","sourcesContent":["// export const API = process.env.REACT_APP_API_URL;\n\nconst isProduction = process.env.NODE_ENV === \"production\";\nexport const API = isProduction\n  ? \"http://orgasmo.herokuapp.com\"\n  : \"http://localhost:3000\";","import { API } from \"../config\";\n\n// As parameter we receive an object\nexport const signup = user => {\n    // To send data to the backend fetch can be used\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    // When the fetch is make we will either get a successful response or an error to handle\n\n        // Sucessful response\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n// Store data in localStorage\nexport const authenticate = (data, next) => {\n    // if we have access to the windows object\n    if (typeof window !== \"undefined\") {\n        // name of field, value of field\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        // This will be a callback function\n        next();\n    }\n};\n\n// This function will take a callback that will be used to update the state and redirect the user\nexport const signout = next => {\n    if (typeof window !== \"undefined\") {\n        // remove jwt from localStorage \n        localStorage.removeItem(\"jwt\");\n        next();\n        // request to back end to log out the user\n        return fetch(`${API}/signout`, {\n            method: \"GET\"\n        })\n            .then(response => {\n                console.log(\"signout\", response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\n// Validate if user is authenticated\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false;\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n    } else {\n        return false;\n    }\n};\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from '../auth';\n\n// history will hold the path of an URI\nconst isActive = (history, path) => (history.location.pathname === path) ? { color: \"#f90\" } : { color: \"#fff\" };\n\n// we can access to history through the props that come from react-router-dom because we use withRouter\nconst Menu = ({ history }) => (\n    <div>\n        <ul className=\"nav nav-tabs bg-primary\">\n            <li className=\"nav-item\">\n                <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/\")}\n                    to=\"/\"\n                >\n                    Home\n                </Link>\n            </li>\n\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/user/dashboard\")}\n                        to=\"/user/dashboard\"\n                    >\n                        Dashboard\n                    </Link>\n                </li>\n            )}\n\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/admin/dashboard\")}\n                        to=\"/admin/dashboard\"\n                    >\n                        Dashboard\n                    </Link>\n                </li>\n            )}\n\n            {!isAuthenticated() && (\n                <Fragment>\n                    <li className=\"nav-item\">\n                        <Link\n                            className=\"nav-link\"\n                            style={isActive(history, \"/signin\")}\n                            to=\"/signin\"\n                        >\n                            Signin\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link\n                            className=\"nav-link\"\n                            style={isActive(history, \"/signup\")}\n                            to=\"/signup\"\n                        >\n                            Signup\n                        </Link>\n                    </li>\n                </Fragment>\n            )}\n\n            {isAuthenticated() && (\n                <li className=\"nav-item\">\n                    <span\n                        className=\"nav-link\"\n                        style={{cursor: 'pointer', color: '#fff'}}\n                        onClick={() => signout(() => {\n                            // send the user to the home page\n                            history.push('/');\n                        })}\n                    >\n                        Signout\n                    </span>\n                </li>\n            )}\n        </ul>\n    </div>\n);\n\nexport default withRouter(Menu);","// The layout will be used for the entire application\nimport React from \"react\";\nimport Menu from \"./Menu\";\n\n// Default values for props that are not sent\nconst Layout = ({\n    title = \"Title\",\n    description = \"Description\",\n    className,\n    children\n}) => (\n    <div>\n        <Menu />\n        <div className=\"jumbotron\">\n            <h2>{title}</h2>\n            <p className=\"lead\">{description}</p>\n        </div>\n        <div className={className}>{children}</div>\n    </div>\n);\n\nexport default Layout;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\n// Since the file in signup is index is not necessary to explicitly place it in the export\nimport { signup } from \"../auth\";\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false\n    });\n\n    // Destructurando valores\n    const { name, email, password, success, error } = values;\n\n    // Higher Order Function: A function that returns another function\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        // Grab the name, email & pass them to send to back end as an OBJECT{}\n        // { name : name, email : email, password : password }\n        signup({ name, email, password })\n            .then(data => {\n                if (data.error) {\n                    // store the error from the back end in the state\n                    setValues({ ...values, error: data.error, success: false });\n                } else {\n                    // clear the fields\n                    setValues({\n                        ...values,\n                        name: \"\",\n                        email: \"\",\n                        password: \"\",\n                        error: \"\",\n                        success: true\n                    });\n                }\n            });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            {/* When button is clicked a new user is sent to backend */}\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: success ? \"\" : \"none\" }}\n        >\n            New account is created. Please <Link to=\"/signin\">Signin</Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Signup\"\n            description=\"Signup to Suggox\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n            {/* {JSON.stringify(values)} */}\n        </Layout>\n    );\n};\n\nexport default Signup;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\n\nconst Signin = () => {\n    const [values, setValues] = useState({\n        email: \"correo@correo.com\",\n        password: \"123456\",\n        error: \"\",\n        // loading will be used to show something to the user while logging in\n        loading: false,\n        // When user successfully signs in it will change to true and when its true we will redirect the user\n        // to the homepage\n        redirectToReferrer: false\n    });\n\n    // values destructured from the state\n    const { email, password, loading, error, redirectToReferrer } = values;\n    const { user } = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });\n        signin({ email, password }).then(data => {\n            if (data.error) {\n                // if log in fails loading goes back to false\n                setValues({ ...values, error: data.error, loading: false });\n            } else {\n                // authenticate is a middleware that will store the jwt in localStorage\n                // a callback fn() will be executed after storing values in localStorage\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    // If loading is true we will display loading...\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                // Redirect is imported from react-router-dom\n\n                // Redirect to admin dashboard when signin in if it is admin\n                return <Redirect to=\"/admin/dashboard\" />;\n            } else {\n                // Redirect to user dashboard when signin in\n                return <Redirect to=\"/user/dashboard\" />;\n            }              \n        }\n        if (isAuthenticated()) {\n            return <Redirect to=\"/\" />;\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Signin\"\n            description=\"Signin to Sugox\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    );\n};\n\nexport default Signin;\n","import React from \"react\";\nimport Layout from \"./Layout\";\n\nconst Home = () => (\n    <Layout title=\"Home Page\" description=\"Suggox\">\n        ...\n    </Layout>\n);\n\nexport default Home;","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nconst Dashboard = () => {\n    // Nested destructuring :O\n    const { user: { _id, name, email, role } } = isAuthenticated();\n\n    const userLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/survey_list\">\n                            Ver Encuestas\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Informacion de usuario</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Usuario Registrado\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const purchaseHistory = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Historial de respuestas</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">history</li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`Bienvenido a Suggox, ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{userLinks()}</div>\n                <div className=\"col-9\">\n                    {userInfo()}\n                    {purchaseHistory()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Dashboard;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default AdminRoute;\n","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashboard = () => {\n    const { user: { _id, name, email, role } } = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create_survey\">\n                            Crear Encuesta\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Informacion de usuario</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Usuario Registrado\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`Bienvenido a Suggox, ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{adminLinks()}</div>\n                <div className=\"col-9\">{adminInfo()}</div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AdminDashboard;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nimport { createSurvey } from \"./apiAdmin\";\n\nconst AddSurvey = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdSurvey: \"\",\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    \n    const {\n        name,\n        description,\n        loading,\n        error,\n        createdSurvey,\n        formData\n    } = values;\n\n    const init = () => {\n        setValues({\n            ...values,\n            formData: new FormData()\n        });\n    };\n\n    useEffect(() => {\n        init();\n    }, []);\n\n    // High Order Function\n    const handleChange = name => event => {\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);        \n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n        \n        createSurvey(user._id, token, formData).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    description: \"\",\n                    photo: \"\",\n                    loading: false,\n                    createdSurvey: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Fotografia</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Nombre</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Descripcion</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Crear Encuesta</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdSurvey ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdSurvey}`} se creo exitosamente!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    return (\n        <Layout\n            title=\"Agregar una encuesta\"\n            description={`${user.name}, completa los campos`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddSurvey;","import { API } from \"../config\";\n\nexport const createSurvey = (userId, token, product) => {\n    return fetch(`${API}/survey/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};","import { API } from \"../config\";\n\nexport const getSurveys = sortBy => {\n    return fetch(`${API}/surveys?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => console.log(err));\n};","import React from \"react\";\nimport { API } from \"../config\";\n\n// Destructuring the props\nconst ShowImage = ({ item, url }) => (\n    <div className=\"product-img\">\n        <img\n            src={`${API}/${url}/photo/${item._id}`}\n            alt={item.name}\n            className=\"mb-3\"\n            style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n        />\n    </div>\n);\n\nexport default ShowImage;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ShowImage from \"../core/showImage\";\n\n// We pass a survey in the cardComponent\nconst Card = ({ survey }) => {\n    return (\n        <div className=\"col-4 mb-3\">\n            <div className=\"card\">\n                <div className=\"card-header\">{survey.name}</div>\n                <div className=\"card-body\">\n                    <ShowImage item={survey} url=\"survey\" />\n                    <p>{survey.description}</p>\n                    \n                    {/* to={{\n                  pathname: `/hello/${this.state.nextPage}`, \n                  query:{thing: 'fdsa'}}} > */}\n\n                    <Link to={{\n                        pathname: `/answer_survey/${survey._id}`}}>\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\">\n                            Contestar Encuesta\n                        </button>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Card;","import React, { useState, useEffect } from 'react';\nimport Layout from \"../core/Layout\";\nimport { getSurveys } from \"../core/apiCore\";\nimport Card from \"../core/Card\";\n\nfunction SurveyList() {\n    const [surveys, setSurveys] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadSurveys = () => {\n        getSurveys(\"createdAt\").then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setSurveys(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadSurveys();\n    }, []);\n\n    return (\n        <Layout\n            title=\"Encuestas\"\n            description=\"Listado de encuestas\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                {/* {JSON.stringify(surveys)} */}\n                {surveys.map((survey, i) => (\n                    <Card key={i} survey={survey} />\n                ))}\n            </div>\n        </Layout>\n    )\n}\n\nexport default SurveyList\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { getSurveyById } from \"./apiUser\";\n\nimport { createAnswer } from './apiUser';\n\nconst SurveyAnswer = (props) => {\n    // Props\n    const {id : survey_id} = props.match.params\n\n    // State\n    const [survey, setSurvey] = useState('');\n    const [values, setValues] = useState({\n        simple_answer: \"\",\n        long_answer: \"\",        \n        loading: false,\n        error: \"\",\n        createdAnswer: \"\",\n        formData: \"\"\n    });\n\n    // console.log(survey_id);\n\n    const { user, token } = isAuthenticated();\n\n    const { simple_answer, long_answer, loading, error, createdAnswer, formData } = values;\n\n    const init = () => {\n        setValues({\n            ...values,\n            formData: new FormData()\n        });\n    };\n\n    const surveyValues = () => {\n        getSurveyById(survey_id).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                console.log('esto es una prueba', data);                \n                setSurvey(data);\n            }\n        });        \n    };\n\n\n    useEffect(() => {\n        init();\n        surveyValues();\n    }, [])\n\n    const handleChange = event => {\n        const value = event.target.value;\n        const name = event.target.name;\n        formData.set(name, value);        \n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n        \n        createAnswer(user._id, token, formData).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    description: \"\",\n                    photo: \"\",\n                    loading: false,\n                    createdAnswer: data.name\n                });\n            }\n        });\n    };\n\n    const answerForm = () => (\n        <Fragment>\n            <h1>{survey.description}</h1>\n            <form className=\"mb-3\" onSubmit={clickSubmit}>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Respuesta corta</label>\n                    <textarea\n                        onChange={handleChange}\n                        className=\"form-control\"\n                        value={simple_answer}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Respuesta Larga</label>\n                    <textarea\n                        onChange={handleChange}\n                        className=\"form-control\"\n                        value={long_answer}\n                    />\n                </div>\n\n                <button className=\"btn btn-outline-primary\">Crear Encuesta</button>\n            </form>\n        </Fragment>        \n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdAnswer ? \"\" : \"none\" }}\n        >\n            <h2>Respuesta creada exitosamente!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    return (\n        <Layout\n            title=\"Agregar una respuesta\"\n            description={`${user.name}, proporciona tu respuesta para \"${survey.name}\"`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {/* <h1>{survey_id}</h1> */}\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {answerForm()}\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SurveyAnswer\n","import { API } from \"../config\";\n\nexport const createAnswer = (userId, token, product) => {\n    return fetch(`${API}/answer/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const getSurveyById = surveyId => {\n    return fetch(`${API}/survey/${surveyId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n}\n","import React from \"react\";\n// BrowserRouter is a component. It will make the props availale to other nested components\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Home from \"./core/Home\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Dashboard from \"./user/UserDashboard\";\nimport AdminRoute from \"./auth/AdminRoute\";\nimport AdminDashboard from \"./user/AdminDashboard\";\nimport AddSurvey from \"./admin/CreateSurvey\";\nimport SurveyList from \"./user/SurveyList\";\nimport SurveyAnswer from \"./user/SurveyAnswer\";\n\nconst Routes = () => {\n    return (\n        // BrowserRouter will make the props available in all components inside of Switch\n        <BrowserRouter>\n            {/* Inside Switch we will have all the routes */}\n            <Switch>\n                <Route path=\"/\" exact component={Home} />\n                {/* <Route path=\"/surveylist\" exact component={SurveyList} /> */}\n                <Route path=\"/signin\" exact component={Signin} />\n                <Route path=\"/signup\" exact component={Signup} />\n                {/* PrivateRoute will protect route only for the logged in users */}\n                <PrivateRoute \n                    path='/user/dashboard' \n                    exact \n                    component={Dashboard} \n                />\n                {/* PrivateRoute will protect route only for the admin logged in users */}\n                <AdminRoute \n                    path='/admin/dashboard' \n                    exact \n                    component={AdminDashboard} \n                />\n                <AdminRoute \n                    path='/create_survey' \n                    exact \n                    component={AddSurvey} \n                />\n                <Route \n                    path='/survey_list' \n                    exact \n                    component={SurveyList} \n                />\n                <Route \n                    path='/answer_survey/:id' \n                    exact \n                    component={SurveyAnswer} \n                />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}